# https://nix.dev/tutorials/continuous-integration-github-actions
name: "Test nix-shell"
on:
  push:
    branches:
    - '**'
    paths-ignore: []
  pull_request:
    paths-ignore: []

jobs:
  nix-shell:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2.4.0
    - uses: cachix/install-nix-action@v16
      with:
        nix_path: nixpkgs=channel:nixos-21.11
    - run: nix-shell --pure --run "cabal update && cabal build all --enable-tests"
